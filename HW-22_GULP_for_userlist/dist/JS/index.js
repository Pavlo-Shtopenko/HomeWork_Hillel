console.log("eve.holt@reqres.in"),console.log("cityslicka");const loginUserInput=document.getElementById("login"),passwordUserInput=document.getElementById("password"),confirmButton=document.getElementById("button"),savedUserLogin="",savedUserPassword="",form=document.getElementById("form"),alertLogin=document.getElementById("alertLogin"),alertPassword=document.getElementById("alertPassword"),alertDataUser=document.getElementById("alertDataUser"),success=document.getElementById("success"),boxButton=document.getElementById("boxButton");function hiddenClass(e){e.classList.remove("hidden-login")}function addClassHidden(e){e.classList.add("hidden-login")}loginUserInput.addEventListener("blur",()=>{(!loginUserInput.value.includes("@")||loginUserInput.value.indexOf("@")<2||!loginUserInput.value.slice(loginUserInput.value.indexOf("@")).includes(".")||loginUserInput.value.slice(loginUserInput.value.indexOf("@")).indexOf(".")<3||loginUserInput.value.slice(loginUserInput.value.indexOf("@")).indexOf(".")>loginUserInput.value.slice(loginUserInput.value.indexOf("@")).length-3)&&hiddenClass(alertLogin)}),loginUserInput.addEventListener("focus",()=>{addClassHidden(alertLogin),addClassHidden(alertDataUser)}),passwordUserInput.addEventListener("blur",()=>{passwordUserInput.value.length<=6&&(hiddenClass(alertPassword),passwordUserInput.value="")}),passwordUserInput.addEventListener("focus",()=>{addClassHidden(alertPassword),addClassHidden(alertDataUser)}),form.addEventListener("focus",e=>{"INPUT"===e.target.tagName&&(confirmButton.hasAttribute("disabled")||confirmButton.setAttribute("disabled",!0),confirmButton.classList.contains("disabled")||confirmButton.classList.add("disabled"))}),form.addEventListener("change",()=>{0<loginUserInput.value.length&&0<passwordUserInput.value.length&&alertLogin.classList.contains("hidden-login")&&alertPassword.classList.contains("hidden-login")?(confirmButton.removeAttribute("disabled"),confirmButton.classList.remove("disabled")):(confirmButton.hasAttribute("disabled")||confirmButton.setAttribute("disabled",!0),confirmButton.classList.contains("disabled")||confirmButton.classList.add("disabled"))});const xhr=new XMLHttpRequest,cardItem=document.getElementById("card-template").innerHTML,userList=document.getElementById("section-list"),previousButton=document.getElementById("previous"),nextButton=document.getElementById("next"),incorrectLogin=document.getElementById("alertLoginPassword");let counter=1;function getResponse(){var e="https://reqres.in/api/users?page="+counter;xhr.open("GET",e,!0),xhr.onload=t=>{try{var n=JSON.parse(t.target.response),s=n.data.map(e=>({...e,name:e.first_name+" "+e.last_name}));let e="";s.forEach(t=>{let n="";n=cardItem,Object.keys(t).forEach(e=>{n=n.replaceAll(`{{${e}}}`,t[e])}),e+=n});var i=n.total_pages,l=n.page;1===l?(previousButton.setAttribute("disabled",""),nextButton.removeAttribute("disabled","")):l===i&&(nextButton.setAttribute("disabled",""),previousButton.removeAttribute("disabled","")),userList.innerHTML=e}catch(e){console.warn(t)}},xhr.send()}function nextPage(){counter+=1,getResponse()}function previousPage(){--counter,getResponse()}function modifyCard(n){const t=n.target.parentNode.firstChild.nextSibling,s=n.target.parentNode.firstChild.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling;var e=n.target.parentNode.id,i="https://reqres.in/api/users/"+e,e="https://reqres.in/api/users/"+e;"button-delete"===n.target.classList.value?(xhr.open("DELETE",i,!0),xhr.onload=t=>{try{JSON.parse(t.target.response)}catch(e){204===t.target.status&&n.target.parentNode.remove()}},xhr.send()):"button-edit"===n.target.classList.value?(n.target.classList.toggle("hidden-login"),n.target.nextSibling.nextSibling.classList.toggle("hidden-login"),t.classList.add("hidden-login"),t.nextElementSibling.classList.toggle("hidden-login"),t.nextElementSibling.setAttribute("value",t.innerText.split(" ")[0]),t.nextElementSibling.nextElementSibling.classList.toggle("hidden-login"),t.nextElementSibling.nextElementSibling.setAttribute("value",t.innerText.split(" ")[1]),s.classList.add("hidden-login"),s.nextElementSibling.setAttribute("value",s.innerText),s.nextElementSibling.classList.toggle("hidden-login")):"button-confirm"===n.target.classList.value&&(xhr.open("PATCH",e,!0),xhr.onload=e=>{try{JSON.parse(e.target.response);200===e.target.status&&(t.innerText=t.nextElementSibling.value+" "+t.nextElementSibling.nextElementSibling.value,t.classList.toggle("hidden-login"),t.nextElementSibling.classList.toggle("hidden-login"),t.nextElementSibling.nextElementSibling.classList.toggle("hidden-login"),s.innerText=s.nextElementSibling.value,s.classList.toggle("hidden-login"),s.nextElementSibling.classList.toggle("hidden-login"),n.target.classList.toggle("hidden-login"),n.target.previousElementSibling.classList.toggle("hidden-login"))}catch(e){console.warn(e)}},xhr.send())}confirmButton.addEventListener("click",()=>{let t={email:loginUserInput.value,password:passwordUserInput.value};xhr.open("POST","https://reqres.in/api/login",!0),xhr.onload=e=>{JSON.stringify(t);JSON.parse(e.target.response);400===e.target.status?incorrectLogin.classList.contains("hidden-login")&&incorrectLogin.classList.remove("hidden-login"):(incorrectLogin.classList.contains("hidden-login")||incorrectLogin.classList.add("hidden-login"),getResponse(),form.classList.add("hidden-login"),boxButton.classList.remove("hidden-login"))},xhr.setRequestHeader("Content-type","application/json"),xhr.send(JSON.stringify(t))}),nextButton.addEventListener("click",nextPage),previousButton.addEventListener("click",previousPage),userList.addEventListener("click",modifyCard);